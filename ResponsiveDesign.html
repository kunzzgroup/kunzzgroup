<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Value Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        h1 {
            font-size: 36px;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 16px;
            font-style: italic;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 150px;
            padding: 15px 25px;
            border: none;
            background: #ecf0f1;
            color: #7f8c8d;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            background: #d5dbdb;
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 14px;
            font-weight: 600;
            color: #34495e;
            margin-bottom: 8px;
        }

        .input-wrapper {
            position: relative;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.2s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* ä¿®æ”¹åçš„è¾“å…¥æ¡†æ ·å¼ */
        input[type="number"].modified {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        /* ä¿®æ”¹æ ‡è®° */
        .modified-indicator {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 20px;
            height: 20px;
            background: #3b82f6;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            cursor: help;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* çŠ¶æ€æç¤ºæ¡ */
        .status-bar {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            padding: 12px 20px;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            color: #16a34a;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            border: 2px solid #bbf7d0;
        }

        .status-bar.custom-active {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e40af;
            border-color: #93c5fd;
        }

        /* é«˜çº§è®¾ç½®åŒºåŸŸ */
        .advanced-settings {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 2px dashed #dee2e6;
        }

        /* å•ä½åˆ‡æ¢å™¨ */
        .unit-switcher {
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 5px;
            background: white;
            border-radius: 6px;
            padding: 2px;
            border: 1px solid #d1d5db;
        }

        .unit-btn {
            padding: 4px 10px;
            border: none;
            background: transparent;
            color: #6c757d;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .unit-btn:hover {
            background: #f8f9fa;
        }

        .unit-btn.active {
            background: #667eea;
            color: white;
        }

        .unit-label {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #95a5a6;
            font-weight: 600;
            font-size: 14px;
        }

        .result-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 25px;
            margin-top: 25px;
        }

        .result-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #dee2e6;
        }

        .result-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .result-label {
            font-size: 14px;
            color: #6c757d;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .result-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .copy-btn {
            padding: 8px 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: #5568d3;
            transform: scale(1.05);
        }

        .copy-btn:active {
            transform: scale(0.95);
        }

        .screen-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .screen-table th,
        .screen-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .screen-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .screen-table td {
            font-family: 'Courier New', monospace;
            color: #212529;
        }

        .screen-table tr:hover {
            background: #f1f3f5;
        }

        .clamp-info {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .clamp-info p {
            margin: 5px 0;
            color: #856404;
            font-weight: 600;
        }

        .converter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .conversion-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
        }

        .conversion-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .conversion-value {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
            font-family: 'Courier New', monospace;
        }

        /* ==================== Live Preview æ ·å¼ ==================== */
        .live-preview-section {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-top: 20px;
        }

        .preview-controls {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .viewport-slider {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .viewport-slider label {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
            white-space: nowrap;
        }

        .viewport-slider input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: #e0e0e0;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .viewport-slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        }

        .viewport-slider input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        }

        .viewport-value {
            font-size: 16px;
            font-weight: 700;
            color: #667eea;
            font-family: 'Courier New', monospace;
            min-width: 80px;
            text-align: right;
        }

        .preview-container {
            background: #f9fafb;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            text-align: center;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .preview-text {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: #2c3e50;
            font-weight: 600;
            line-height: 1.4;
            transition: font-size 0.3s ease;
        }

        .preview-info {
            margin-top: 15px;
            padding: 15px;
            background: #e8f4fd;
            border-left: 4px solid #667eea;
            border-radius: 8px;
        }

        .preview-info p {
            margin: 5px 0;
            font-size: 14px;
            color: #495057;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 28px;
            }

            .input-grid {
                grid-template-columns: 1fr;
            }

            .tab-btn {
                min-width: 100%;
            }

            .result-value {
                font-size: 18px;
            }

            .viewport-slider {
                flex-direction: column;
                align-items: stretch;
            }

            .viewport-value {
                text-align: center;
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            color: #95a5a6;
            cursor: help;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Responsive Value Calculator</h1>
            <p class="subtitle">Easily calculate clamp(), vw, rem, and responsive ratios for frontend design.</p>
            <div class="status-bar" id="statusBar">âœ“ All values are default</div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('clamp')">Clamp Calculator</button>
            <button class="tab-btn" onclick="switchTab('vw')">VW Calculator</button>
            <button class="tab-btn" onclick="switchTab('converter')">Unit Converter</button>
        </div>

        <!-- Clamp è®¡ç®—æ¨¡å¼ -->
        <div id="clamp" class="content-section active">
            <div class="card">
                <h2 class="card-title">Clamp() Value Calculator</h2>
                
                <div class="input-grid">
                    <div class="input-group">
                        <label>æœ€å°å€¼ (Min Value)</label>
                        <div class="input-wrapper">
                            <input type="number" id="clampMin" value="1" step="0.1" data-default="1" data-unit="rem" oninput="calculateClamp(); checkModified(this)">
                            <div class="unit-switcher">
                                <button class="unit-btn active" onclick="switchMinUnit('rem')">rem</button>
                                <button class="unit-btn" onclick="switchMinUnit('px')">px</button>
                            </div>
                            <span class="unit-label" id="minUnitLabel">rem</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>æœ€å¤§å€¼ (Max Value)</label>
                        <div class="input-wrapper">
                            <input type="number" id="clampMax" value="2" step="0.1" data-default="2" data-unit="rem" oninput="calculateClamp(); checkModified(this)">
                            <div class="unit-switcher">
                                <button class="unit-btn active" onclick="switchMaxUnit('rem')">rem</button>
                                <button class="unit-btn" onclick="switchMaxUnit('px')">px</button>
                            </div>
                            <span class="unit-label" id="maxUnitLabel">rem</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>æœ€å°å±å¹•å®½åº¦ (Min Viewport)</label>
                        <div class="input-wrapper">
                            <input type="number" id="minViewport" value="768" data-default="768" oninput="calculateClamp(); checkModified(this)">
                            <span class="unit-label">px</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>æœ€å¤§å±å¹•å®½åº¦ (Max Viewport)</label>
                        <div class="input-wrapper">
                            <input type="number" id="maxViewport" value="1920" data-default="1920" oninput="calculateClamp(); checkModified(this)">
                            <span class="unit-label">px</span>
                        </div>
                    </div>
                </div>

                <!-- Root Font Size ä¸å•ä½åˆ‡æ¢åŒºåŸŸ -->
                <div class="advanced-settings">
                    <div class="input-grid">
                        <div class="input-group">
                            <label>HTML Root Font Size</label>
                            <div class="input-wrapper">
                                <input type="number" id="rootFontSize" value="16" data-default="16" oninput="calculateClamp(); checkModified(this)">
                                <span class="unit-label">px</span>
                            </div>
                            <small style="color: #6c757d; margin-top: 5px; font-size: 12px;">ç”¨äºè®¡ç®— rem è½¬æ¢ã€‚è‹¥ä½ çš„é¡¹ç›®æ ¹å­—ä½“å¤§å°ä¸º 62.5%ï¼Œè¯·å¡«å…¥ 10ã€‚</small>
                        </div>
                        
                        <div class="input-group">
                            <label>Clamp Output Unit</label>
                            <select id="clampUnit" style="width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 16px; transition: all 0.2s ease;" onchange="calculateClamp()">
                                <option value="rem">rem</option>
                                <option value="px">px</option>
                            </select>
                            <small style="color: #6c757d; margin-top: 5px; font-size: 12px;">é€‰æ‹© clamp() å‡½æ•°çš„è¾“å‡ºå•ä½</small>
                        </div>
                    </div>

                    <!-- ä¸­é—´é¡¹æ¨¡å¼åˆ‡æ¢ -->
                    <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 10px; border: 2px solid #e0e0e0;">
                        <label style="display: block; margin-bottom: 10px; font-size: 14px; font-weight: 600; color: #34495e;">
                            ä¸­é—´é¡¹ä¿®æ­£æ¨¡å¼ (Preferred Value Correction)
                        </label>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="preferredMode" value="auto-correct" checked onchange="calculateClamp()" style="width: 18px; height: 18px; cursor: pointer;">
                                <span style="font-size: 14px; color: #495057;">âœ… è‡ªåŠ¨ä¿®æ­£ï¼ˆæ¨èï¼‰</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="preferredMode" value="pure-vw" onchange="calculateClamp()" style="width: 18px; height: 18px; cursor: pointer;">
                                <span style="font-size: 14px; color: #495057;">ğŸ”² å…³é—­ä¿®æ­£ï¼ˆçº¯ VWï¼‰</span>
                            </label>
                        </div>
                        <div style="margin-top: 10px; padding: 10px; background: #f0f9ff; border-left: 3px solid #3b82f6; border-radius: 5px;">
                            <p style="font-size: 12px; color: #1e40af; line-height: 1.6; margin: 0;">
                                ğŸ’¡ <strong>è‡ªåŠ¨ä¿®æ­£æ¨¡å¼:</strong> ä½¿ç”¨çº¿æ€§æ’å€¼å…¬å¼ <code style="background: white; padding: 2px 6px; border-radius: 3px;">font-size = AÃ—vw + B</code>ï¼Œç¡®ä¿åœ¨æœ€å°/æœ€å¤§è§†å£æ—¶ç²¾ç¡®ç­‰äºè®¾å®šå€¼ã€‚å½“ Bâ‰ˆ0 æ—¶è‡ªåŠ¨è¾“å‡ºçº¯ VWï¼Œå½“ Bâ‰ 0 æ—¶è¾“å‡º <code style="background: white; padding: 2px 6px; border-radius: 3px;">vw Â± rem</code><br>
                                ğŸ’¡ <strong>çº¯ VW æ¨¡å¼:</strong> å¼ºåˆ¶ä½¿ç”¨ <code style="background: white; padding: 2px 6px; border-radius: 3px;">clamp(min, Xvw, max)</code>ï¼Œä»…åœ¨æœ€å¤§è§†å£æ—¶ç²¾ç¡®ç­‰äºæœ€å¤§å€¼ï¼Œå…¶ä»–è§†å£ä¼šæœ‰åå·®<br>
                                ğŸ’¡ <strong>æç¤º:</strong> è‹¥ä¸­é—´å€¼å« "- rem"ï¼Œä»£è¡¨ç³»ç»Ÿè‡ªåŠ¨åŠ ä¸Šè´Ÿåç§»ä»¥ç¡®ä¿æœ€å°å®½åº¦æ—¶ç²¾ç¡®ç­‰äºæœ€å°å€¼
                            </p>
                        </div>
                    </div>
                </div>

                <div class="result-section">
                    <div class="result-item">
                        <div class="result-label">è®¡ç®—å…¬å¼è¯´æ˜</div>
                        <div style="color: #6c757d; font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.6;" id="formulaExplanation">-</div>
                    </div>

                    <div class="result-item">
                        <div class="result-label">å®Œæ•´ CSS Clamp å­—ä¸²</div>
                        <div class="result-value">
                            <span id="clampCssResult">-</span>
                            <button class="copy-btn" onclick="copyToClipboard('clampCssResult')">å¤åˆ¶</button>
                        </div>
                    </div>

                    <div class="result-item">
                        <div class="result-label">ä¸åŒå±å¹•å®½åº¦ä¸‹çš„å®é™…å¤§å°</div>
                        <table class="screen-table">
                            <thead>
                                <tr>
                                    <th>å±å¹•å®½åº¦</th>
                                    <th>è®¡ç®—å€¼</th>
                                    <th>å®é™…æ˜¾ç¤º</th>
                                    <th>çŠ¶æ€</th>
                                </tr>
                            </thead>
                            <tbody id="clampTableBody">
                            </tbody>
                        </table>
                    </div>

                    <div class="clamp-info" id="clampInfoBox">
                        <p id="clampFloorInfo">ğŸ”» å¡åº•: -</p>
                        <p id="clampCeilInfo">ğŸ”º å¡é¡¶: -</p>
                    </div>
                </div>
            </div>

            <!-- Live Preview åŒºåŸŸ -->
            <div class="live-preview-section">
                <h2 class="card-title">ğŸ¨ Live Preview - å®æ—¶è§†è§‰é¢„è§ˆ</h2>
                
                <div class="preview-controls">
                    <div class="viewport-slider">
                        <label>Viewport Width:</label>
                        <input type="range" id="viewportSlider" min="320" max="2560" value="1920" oninput="updatePreview()">
                        <span class="viewport-value" id="viewportValue">1920px</span>
                    </div>
                </div>

                <div class="preview-container">
                    <div class="preview-text" id="previewText">
                        Responsive Design Preview
                    </div>
                </div>

                <div class="preview-info">
                    <p>ğŸ“ å½“å‰æ¨¡æ‹Ÿå®½åº¦: <span id="currentWidth">1920px</span></p>
                    <p>ğŸ¯ å®é™…å­—ä½“å¤§å°: <span id="actualFontSize">-</span></p>
                    <p>ğŸ’¡ åº”ç”¨çš„ CSS: <span id="appliedCss">-</span></p>
                </div>
            </div>
        </div>

        <!-- VW è®¡ç®—æ¨¡å¼ -->
        <div id="vw" class="content-section">
            <div class="card">
                <h2 class="card-title">VW â†” PX Calculator</h2>
                
                <div style="margin-bottom: 30px;">
                    <h3 style="font-size: 18px; color: #495057; margin-bottom: 15px;">PX â†’ VW</h3>
                    <div class="input-grid">
                        <div class="input-group">
                            <label>å±å¹•å®½åº¦ (Screen Width)</label>
                            <div class="input-wrapper">
                                <input type="number" id="vwScreenWidth" value="1920" data-default="1920" oninput="calculateVwToPx(); checkModified(this)">
                                <span class="unit-label">px</span>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>ç›®æ ‡åƒç´  (Target Pixel)</label>
                            <div class="input-wrapper">
                                <input type="number" id="vwTargetPx" value="86" data-default="86" oninput="calculateVwToPx(); checkModified(this)">
                                <span class="unit-label">px</span>
                            </div>
                        </div>
                    </div>

                    <div class="result-section">
                        <div class="result-item">
                            <div class="result-label">VW å€¼</div>
                            <div class="result-value">
                                <span id="vwResult">-</span>
                                <button class="copy-btn" onclick="copyToClipboard('vwResult')">å¤åˆ¶</button>
                            </div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">è®¡ç®—å…¬å¼</div>
                            <div style="color: #6c757d; font-family: 'Courier New', monospace;" id="vwFormula">-</div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 style="font-size: 18px; color: #495057; margin-bottom: 15px;">VW â†’ PX (åå‘è®¡ç®—)</h3>
                    <div class="input-grid">
                        <div class="input-group">
                            <label>VW å€¼</label>
                            <div class="input-wrapper">
                                <input type="number" id="pxVwValue" value="4.48" step="0.01" data-default="4.48" oninput="calculatePxToVw(); checkModified(this)">
                                <span class="unit-label">vw</span>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>å±å¹•å®½åº¦ (Screen Width)</label>
                            <div class="input-wrapper">
                                <input type="number" id="pxScreenWidth" value="1920" data-default="1920" oninput="calculatePxToVw(); checkModified(this)">
                                <span class="unit-label">px</span>
                            </div>
                        </div>
                    </div>

                    <div class="result-section">
                        <div class="result-item">
                            <div class="result-label">å®é™…åƒç´ å€¼</div>
                            <div class="result-value">
                                <span id="pxResult">-</span>
                                <button class="copy-btn" onclick="copyToClipboard('pxResult')">å¤åˆ¶</button>
                            </div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">è®¡ç®—å…¬å¼</div>
                            <div style="color: #6c757d; font-family: 'Courier New', monospace;" id="pxFormula">-</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Unit Converter æ¨¡å¼ -->
        <div id="converter" class="content-section">
            <div class="card">
                <h2 class="card-title">Unit Converter (Rem â†” Px â†” Vw)</h2>
                
                <div class="input-grid">
                    <div class="input-group">
                        <label>è¾“å…¥å€¼</label>
                        <div class="input-wrapper">
                            <input type="number" id="converterValue" value="2" step="0.1" data-default="2" oninput="convertUnits(); checkModified(this)">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>è¾“å…¥å•ä½</label>
                        <select id="converterUnit" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px;" onchange="convertUnits()">
                            <option value="rem">rem</option>
                            <option value="px">px</option>
                        </select>
                    </div>
                </div>

                <div class="result-section">
                    <div class="converter-grid">
                        <div class="conversion-card">
                            <div class="conversion-title">Rem å€¼</div>
                            <div class="conversion-value" id="convRem">-</div>
                        </div>
                        
                        <div class="conversion-card">
                            <div class="conversion-title">Pixel å€¼</div>
                            <div class="conversion-value" id="convPx">-</div>
                        </div>
                    </div>

                    <div style="margin-top: 20px;">
                        <div class="result-label">åœ¨å¸¸è§å±å¹•å®½åº¦ä¸‹çš„ VW å€¼</div>
                        <table class="screen-table">
                            <thead>
                                <tr>
                                    <th>å±å¹•å®½åº¦</th>
                                    <th>VW å€¼</th>
                                    <th>è®¾å¤‡ç±»å‹</th>
                                </tr>
                            </thead>
                            <tbody id="converterTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== å•ä½åˆ‡æ¢åŠŸèƒ½ ====================
        
        // åˆ‡æ¢ Min Value å•ä½
        function switchMinUnit(unit) {
            const input = document.getElementById('clampMin');
            const currentUnit = input.dataset.unit || 'rem';
            const currentValue = parseFloat(input.value) || 0;
            const rootFontSize = parseFloat(document.getElementById('rootFontSize').value) || 16;
            
            // å¦‚æœå•ä½æ²¡æœ‰å˜åŒ–ï¼Œä¸åšå¤„ç†
            if (currentUnit === unit) return;
            
            // è½¬æ¢æ•°å€¼
            let newValue;
            if (unit === 'px' && currentUnit === 'rem') {
                // rem â†’ px
                newValue = currentValue * rootFontSize;
            } else if (unit === 'rem' && currentUnit === 'px') {
                // px â†’ rem
                newValue = currentValue / rootFontSize;
            } else {
                newValue = currentValue;
            }
            
            // æ›´æ–°è¾“å…¥æ¡†
            input.value = newValue.toFixed(unit === 'rem' ? 4 : 2);
            input.dataset.unit = unit;
            
            // æ›´æ–° UI
            document.getElementById('minUnitLabel').textContent = unit;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            const wrapper = input.closest('.input-wrapper');
            wrapper.querySelectorAll('.unit-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // é‡æ–°è®¡ç®—
            calculateClamp();
        }
        
        // åˆ‡æ¢ Max Value å•ä½
        function switchMaxUnit(unit) {
            const input = document.getElementById('clampMax');
            const currentUnit = input.dataset.unit || 'rem';
            const currentValue = parseFloat(input.value) || 0;
            const rootFontSize = parseFloat(document.getElementById('rootFontSize').value) || 16;
            
            // å¦‚æœå•ä½æ²¡æœ‰å˜åŒ–ï¼Œä¸åšå¤„ç†
            if (currentUnit === unit) return;
            
            // è½¬æ¢æ•°å€¼
            let newValue;
            if (unit === 'px' && currentUnit === 'rem') {
                // rem â†’ px
                newValue = currentValue * rootFontSize;
            } else if (unit === 'rem' && currentUnit === 'px') {
                // px â†’ rem
                newValue = currentValue / rootFontSize;
            } else {
                newValue = currentValue;
            }
            
            // æ›´æ–°è¾“å…¥æ¡†
            input.value = newValue.toFixed(unit === 'rem' ? 4 : 2);
            input.dataset.unit = unit;
            
            // æ›´æ–° UI
            document.getElementById('maxUnitLabel').textContent = unit;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            const wrapper = input.closest('.input-wrapper');
            wrapper.querySelectorAll('.unit-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // é‡æ–°è®¡ç®—
            calculateClamp();
        }
        
        // ==================== é¢„è®¾å€¼å˜åŒ–ä¾¦æµ‹ ====================
        
        // æ£€æŸ¥è¾“å…¥æ¡†æ˜¯å¦è¢«ä¿®æ”¹
        function checkModified(input) {
            const currentValue = parseFloat(input.value) || 0;
            const defaultValue = parseFloat(input.dataset.default) || 0;
            const wrapper = input.closest('.input-wrapper');
            
            // ç§»é™¤æ—§çš„æç¤ºæ ‡è®°
            const oldIndicator = wrapper.querySelector('.modified-indicator');
            if (oldIndicator) {
                oldIndicator.remove();
            }
            
            // åˆ¤æ–­æ˜¯å¦è¢«ä¿®æ”¹
            if (currentValue !== defaultValue) {
                // æ·»åŠ ä¿®æ”¹æ ·å¼
                input.classList.add('modified');
                
                // æ·»åŠ ä¿®æ”¹æç¤ºæ ‡è®°
                const indicator = document.createElement('span');
                indicator.className = 'modified-indicator';
                indicator.innerHTML = 'âœ³ï¸';
                indicator.title = 'Custom value';
                wrapper.appendChild(indicator);
            } else {
                // æ¢å¤é»˜è®¤æ ·å¼
                input.classList.remove('modified');
            }
            
            // æ›´æ–°çŠ¶æ€æ 
            updateStatusBar();
        }
        
        // æ›´æ–°çŠ¶æ€æ 
        function updateStatusBar() {
            const statusBar = document.getElementById('statusBar');
            const allInputs = document.querySelectorAll('input[type="number"][data-default]');
            
            // æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•è¾“å…¥è¢«ä¿®æ”¹
            let hasModified = false;
            allInputs.forEach(input => {
                const currentValue = parseFloat(input.value) || 0;
                const defaultValue = parseFloat(input.dataset.default) || 0;
                if (currentValue !== defaultValue) {
                    hasModified = true;
                }
            });
            
            // æ›´æ–°çŠ¶æ€æ æ˜¾ç¤º
            if (hasModified) {
                statusBar.textContent = 'âš™ï¸ Custom settings active';
                statusBar.classList.add('custom-active');
            } else {
                statusBar.textContent = 'âœ“ All values are default';
                statusBar.classList.remove('custom-active');
            }
        }
        
        // ==================== Clamp è®¡ç®—å™¨ ====================
        function calculateClamp() {
            // è·å–è¾“å…¥å€¼
            const minInput = document.getElementById('clampMin');
            const maxInput = document.getElementById('clampMax');
            const minUnit = minInput.dataset.unit || 'rem';
            const maxUnit = maxInput.dataset.unit || 'rem';
            const rootFontSize = parseFloat(document.getElementById('rootFontSize').value) || 16;
            
            // è·å–åŸå§‹è¾“å…¥å€¼
            let minValue = parseFloat(minInput.value) || 0;
            let maxValue = parseFloat(maxInput.value) || 0;
            
            // ç»Ÿä¸€è½¬æ¢ä¸º px è¿›è¡Œè®¡ç®—
            const minPx = minUnit === 'rem' ? minValue * rootFontSize : minValue;
            const maxPx = maxUnit === 'rem' ? maxValue * rootFontSize : maxValue;
            
            const minViewport = parseFloat(document.getElementById('minViewport').value) || 768;
            const maxViewport = parseFloat(document.getElementById('maxViewport').value) || 1920;
            const clampUnit = document.getElementById('clampUnit').value;
            
            // è·å–ä¸­é—´é¡¹æ¨¡å¼
            const preferredMode = document.querySelector('input[name="preferredMode"]:checked').value;

            // éªŒè¯è¾“å…¥æœ‰æ•ˆæ€§
            if (minPx >= maxPx) {
                document.getElementById('clampCssResult').textContent = 'é”™è¯¯: æœ€å°å€¼å¿…é¡»å°äºæœ€å¤§å€¼';
                document.getElementById('formulaExplanation').textContent = 'è¯·ç¡®ä¿ Min < Max';
                return;
            }

            if (minViewport >= maxViewport) {
                document.getElementById('clampCssResult').textContent = 'é”™è¯¯: æœ€å°è§†å£å¿…é¡»å°äºæœ€å¤§è§†å£';
                document.getElementById('formulaExplanation').textContent = 'è¯·ç¡®ä¿ Min Viewport < Max Viewport';
                return;
            }

            let clampCss, formulaExplanation, vwCoefficient, constantTerm;

            if (preferredMode === 'auto-correct') {
                // ========== è‡ªåŠ¨ä¿®æ­£æ¨¡å¼ï¼ˆçº¿æ€§æ’å€¼ï¼‰ ==========
                // ä½¿ç”¨æ ‡å‡† fluid typography å…¬å¼: font-size = AÃ—vw + B
                // å…¶ä¸­:
                // A = (max - min) / ((maxWidth - minWidth) / 100)
                // B = min - (A Ã— minWidth / 100)
                
                // è®¡ç®— A (VW ç³»æ•°)
                const A = (maxPx - minPx) / ((maxViewport - minViewport) / 100);
                
                // è®¡ç®— B (å¸¸æ•°é¡¹ï¼Œpx)
                const B_px = minPx - (A * minViewport / 100);
                
                vwCoefficient = A;
                constantTerm = B_px;
                
                // ç”Ÿæˆè®¡ç®—å…¬å¼è¯´æ˜
                let minDisplay = minUnit === 'rem' ? `${minValue}rem (${minPx.toFixed(2)}px)` : `${minPx.toFixed(2)}px`;
                let maxDisplay = maxUnit === 'rem' ? `${maxValue}rem (${maxPx.toFixed(2)}px)` : `${maxPx.toFixed(2)}px`;
                
                // éªŒè¯å…¬å¼æ­£ç¡®æ€§
                const checkMin = (A * minViewport / 100) + B_px;
                const checkMax = (A * maxViewport / 100) + B_px;
                
                formulaExplanation = `
è‡ªåŠ¨ä¿®æ­£æ¨¡å¼ - çº¿æ€§æ’å€¼å…¬å¼:
â€¢ åœ¨ ${minViewport}px è§†å£: ${minDisplay}
â€¢ åœ¨ ${maxViewport}px è§†å£: ${maxDisplay}
â€¢ VW ç³»æ•° A = (${maxPx.toFixed(2)} - ${minPx.toFixed(2)}) / ((${maxViewport} - ${minViewport}) / 100) = ${A.toFixed(4)}
â€¢ å¸¸æ•°é¡¹ B = ${minPx.toFixed(2)} - (${A.toFixed(4)} Ã— ${minViewport} / 100) = ${B_px.toFixed(4)}px
â€¢ éªŒè¯: åœ¨ ${minViewport}px â†’ ${checkMin.toFixed(2)}px âœ“
â€¢ éªŒè¯: åœ¨ ${maxViewport}px â†’ ${checkMax.toFixed(2)}px âœ“
                `.trim();

                // æ ¹æ®é€‰æ‹©çš„å•ä½ç”Ÿæˆ CSS clamp å­—ä¸²
                let preferredValue;
                const threshold = 0.001; // B çš„é˜ˆå€¼ï¼Œå°äºæ­¤å€¼è§†ä¸º 0
                
                if (clampUnit === 'rem') {
                    const minRem = minPx / rootFontSize;
                    const maxRem = maxPx / rootFontSize;
                    const B_rem = B_px / rootFontSize;
                    
                    // åˆ¤æ–­ B æ˜¯å¦æ¥è¿‘ 0
                    if (Math.abs(B_rem) < threshold) {
                        // B â‰ˆ 0ï¼Œè¾“å‡ºçº¯ VW
                        preferredValue = `${A.toFixed(4)}vw`;
                        formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw (å¸¸æ•°é¡¹ â‰ˆ 0ï¼Œå·²çœç•¥)`;
                    } else {
                        // B â‰  0ï¼Œè¾“å‡º VW Â± REM
                        if (B_rem >= 0) {
                            preferredValue = `${A.toFixed(4)}vw + ${B_rem.toFixed(4)}rem`;
                            formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw + ${B_rem.toFixed(4)}rem`;
                        } else {
                            preferredValue = `${A.toFixed(4)}vw - ${Math.abs(B_rem).toFixed(4)}rem`;
                            formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw - ${Math.abs(B_rem).toFixed(4)}rem`;
                        }
                    }
                    
                    clampCss = `clamp(${minRem.toFixed(4)}rem, ${preferredValue}, ${maxRem.toFixed(4)}rem)`;
                } else {
                    // px æ¨¡å¼
                    // åˆ¤æ–­ B æ˜¯å¦æ¥è¿‘ 0
                    if (Math.abs(B_px) < threshold) {
                        // B â‰ˆ 0ï¼Œè¾“å‡ºçº¯ VW
                        preferredValue = `${A.toFixed(4)}vw`;
                        formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw (å¸¸æ•°é¡¹ â‰ˆ 0ï¼Œå·²çœç•¥)`;
                    } else {
                        // B â‰  0ï¼Œè¾“å‡º VW Â± PX
                        if (B_px >= 0) {
                            preferredValue = `${A.toFixed(4)}vw + ${B_px.toFixed(4)}px`;
                            formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw + ${B_px.toFixed(4)}px`;
                        } else {
                            preferredValue = `${A.toFixed(4)}vw - ${Math.abs(B_px).toFixed(4)}px`;
                            formulaExplanation += `\nâ€¢ ä¸­é—´å€¼å…¬å¼: ${A.toFixed(4)}vw - ${Math.abs(B_px).toFixed(4)}px`;
                        }
                    }
                    
                    clampCss = `clamp(${minPx.toFixed(2)}px, ${preferredValue}, ${maxPx.toFixed(2)}px)`;
                }

            } else {
                // ========== çº¯ VW æ¨¡å¼ï¼ˆå…³é—­ä¿®æ­£ï¼‰ ==========
                // å…¬å¼: X = (max - min) / ((maxViewport - minViewport) / 100)
                // æ³¨æ„: æ­¤æ¨¡å¼ä¸‹åªåœ¨ maxViewport æ—¶ç²¾ç¡®ç­‰äº max
                
                const vwValue = ((maxPx - minPx) * 100) / (maxViewport - minViewport);
                vwCoefficient = vwValue;
                constantTerm = 0;
                
                // ç”Ÿæˆè®¡ç®—å…¬å¼è¯´æ˜
                let minDisplay = minUnit === 'rem' ? `${minValue}rem (${minPx.toFixed(2)}px)` : `${minPx.toFixed(2)}px`;
                let maxDisplay = maxUnit === 'rem' ? `${maxValue}rem (${maxPx.toFixed(2)}px)` : `${maxPx.toFixed(2)}px`;
                
                // è®¡ç®—åœ¨ minViewport çš„å®é™…å€¼ï¼ˆä¼šæœ‰åå·®ï¼‰
                const actualAtMin = (vwValue * minViewport / 100);
                
                formulaExplanation = `
çº¯ VW æ¨¡å¼ï¼ˆæœªä¿®æ­£ï¼‰:
â€¢ åœ¨ ${minViewport}px è§†å£: ${minDisplay} (ç›®æ ‡)
â€¢ åœ¨ ${maxViewport}px è§†å£: ${maxDisplay}
â€¢ VW ç³»æ•°: (${maxPx.toFixed(2)} - ${minPx.toFixed(2)}) Ã— 100 / (${maxViewport} - ${minViewport}) = ${vwValue.toFixed(4)}
â€¢ ä¸­é—´å€¼å…¬å¼: ${vwValue.toFixed(4)}vw
â€¢ âš ï¸ æ³¨æ„: åœ¨ ${minViewport}px æ—¶å®é™…ä¸º ${actualAtMin.toFixed(2)}pxï¼Œä¸ç›®æ ‡å€¼ ${minPx.toFixed(2)}px æœ‰åå·®
                `.trim();

                // æ ¹æ®é€‰æ‹©çš„å•ä½ç”Ÿæˆ CSS clamp å­—ä¸²
                if (clampUnit === 'rem') {
                    const minRem = minPx / rootFontSize;
                    const maxRem = maxPx / rootFontSize;
                    clampCss = `clamp(${minRem.toFixed(4)}rem, ${vwValue.toFixed(4)}vw, ${maxRem.toFixed(4)}rem)`;
                } else {
                    clampCss = `clamp(${minPx.toFixed(2)}px, ${vwValue.toFixed(4)}vw, ${maxPx.toFixed(2)}px)`;
                }
            }

            document.getElementById('formulaExplanation').innerHTML = formulaExplanation.replace(/\n/g, '<br>');
            document.getElementById('clampCssResult').textContent = clampCss;

            // è®¡ç®—ä¸åŒå±å¹•å®½åº¦ä¸‹çš„å®é™…å¤§å°
            const screenWidths = [375, 768, 1024, 1366, 1920, 2560];
            const tableBody = document.getElementById('clampTableBody');
            tableBody.innerHTML = '';

            screenWidths.forEach(width => {
                let calculatedValue;
                
                if (preferredMode === 'auto-correct') {
                    // è‡ªåŠ¨ä¿®æ­£æ¨¡å¼: value = AÃ—vw + B
                    const A = (maxPx - minPx) / ((maxViewport - minViewport) / 100);
                    const B_px = minPx - (A * minViewport / 100);
                    calculatedValue = (A * width / 100) + B_px;
                } else {
                    // çº¯ VW æ¨¡å¼: value = vw Ã— width / 100
                    const vwValue = ((maxPx - minPx) * 100) / (maxViewport - minViewport);
                    calculatedValue = (vwValue * width) / 100;
                }
                
                // åº”ç”¨ clamp é€»è¾‘
                let actualValue;
                let status;
                
                if (calculatedValue < minPx) {
                    actualValue = minPx;
                    status = 'ğŸ”» å¡åº•';
                } else if (calculatedValue > maxPx) {
                    actualValue = maxPx;
                    status = 'ğŸ”º å¡é¡¶';
                } else {
                    actualValue = calculatedValue;
                    status = 'âœ… æ­£å¸¸';
                }

                // æ ¹æ®é€‰æ‹©çš„å•ä½æ˜¾ç¤º
                let displayValue;
                if (clampUnit === 'rem') {
                    displayValue = `${(actualValue / rootFontSize).toFixed(4)}rem (${actualValue.toFixed(2)}px)`;
                } else {
                    displayValue = `${actualValue.toFixed(2)}px`;
                }

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${width}px</td>
                    <td>${calculatedValue.toFixed(2)}px</td>
                    <td>${displayValue}</td>
                    <td>${status}</td>
                `;
                tableBody.appendChild(row);
            });

            // æ›´æ–°å¡åº•å¡é¡¶ä¿¡æ¯
            const floorWidth = minViewport;
            const ceilWidth = maxViewport;

            // æ˜¾ç¤ºä¿¡æ¯æ—¶æ ¹æ®å•ä½é€‰æ‹©æ ¼å¼åŒ–
            let floorDisplay, ceilDisplay;
            if (clampUnit === 'rem') {
                floorDisplay = `${(minPx / rootFontSize).toFixed(4)}rem (${minPx.toFixed(2)}px)`;
                ceilDisplay = `${(maxPx / rootFontSize).toFixed(4)}rem (${maxPx.toFixed(2)}px)`;
            } else {
                floorDisplay = `${minPx.toFixed(2)}px`;
                ceilDisplay = `${maxPx.toFixed(2)}px`;
            }

            document.getElementById('clampFloorInfo').textContent = 
                `ğŸ”» å¡åº•: å±å¹•å®½åº¦ â‰¤ ${floorWidth}px æ—¶,å­—ä½“å›ºå®šä¸º ${floorDisplay}`;
            document.getElementById('clampCeilInfo').textContent = 
                `ğŸ”º å¡é¡¶: å±å¹•å®½åº¦ â‰¥ ${ceilWidth}px æ—¶,å­—ä½“å›ºå®šä¸º ${ceilDisplay}`;

            // æ›´æ–° Live Preview
            updatePreview();
        }

        // ==================== Live Preview æ›´æ–°å‡½æ•° ====================
        function updatePreview() {
            // è·å–å½“å‰æ»‘åŠ¨æ¡çš„è§†å£å®½åº¦
            const viewportWidth = parseInt(document.getElementById('viewportSlider').value);
            document.getElementById('viewportValue').textContent = `${viewportWidth}px`;
            document.getElementById('currentWidth').textContent = `${viewportWidth}px`;

            // è·å– clamp å‚æ•°
            const minPx = parseFloat(document.getElementById('clampMin').value) || 0;
            const maxPx = parseFloat(document.getElementById('clampMax').value) || 0;
            const minViewport = parseFloat(document.getElementById('minViewport').value) || 768;
            const maxViewport = parseFloat(document.getElementById('maxViewport').value) || 1920;
            const rootFontSize = parseFloat(document.getElementById('rootFontSize').value) || 16;
            const clampUnit = document.getElementById('clampUnit').value;

            // éªŒè¯è¾“å…¥
            if (minPx >= maxPx || minViewport >= maxViewport) {
                return;
            }

            // è®¡ç®—çº¿æ€§æ’å€¼
            const slope = (maxPx - minPx) / (maxViewport - minViewport);
            const intercept = minPx - (slope * minViewport);
            
            // è®¡ç®—å½“å‰è§†å£å®½åº¦ä¸‹çš„ç†æƒ³å€¼
            const calculatedValue = slope * viewportWidth + intercept;

            // åº”ç”¨ clamp é€»è¾‘
            let actualFontSize;
            if (calculatedValue < minPx) {
                actualFontSize = minPx;
            } else if (calculatedValue > maxPx) {
                actualFontSize = maxPx;
            } else {
                actualFontSize = calculatedValue;
            }

            // æ›´æ–°é¢„è§ˆæ–‡å­—çš„å­—ä½“å¤§å°ï¼ˆå§‹ç»ˆç”¨ px è®¾ç½®ï¼‰
            const previewText = document.getElementById('previewText');
            
            // ç”Ÿæˆ CSS å­—ä¸²ç”¨äºæ˜¾ç¤º
            const vwCoefficient = slope * 100;
            const constantTerm = intercept;
            
            let clampCss;
            if (clampUnit === 'rem') {
                const minRem = minPx / rootFontSize;
                const maxRem = maxPx / rootFontSize;
                const constantRem = constantTerm / rootFontSize;
                
                let preferredValue;
                if (constantRem >= 0) {
                    preferredValue = `${vwCoefficient.toFixed(4)}vw + ${constantRem.toFixed(4)}rem`;
                } else {
                    preferredValue = `${vwCoefficient.toFixed(4)}vw - ${Math.abs(constantRem).toFixed(4)}rem`;
                }
                
                clampCss = `clamp(${minRem.toFixed(4)}rem, ${preferredValue}, ${maxRem.toFixed(4)}rem)`;
            } else {
                let preferredValue;
                if (constantTerm >= 0) {
                    preferredValue = `${vwCoefficient.toFixed(4)}vw + ${constantTerm.toFixed(4)}px`;
                } else {
                    preferredValue = `${vwCoefficient.toFixed(4)}vw - ${Math.abs(constantTerm).toFixed(4)}px`;
                }
                
                clampCss = `clamp(${minPx.toFixed(2)}px, ${preferredValue}, ${maxPx.toFixed(2)}px)`;
            }
            
            // ç›´æ¥è®¾ç½®åƒç´ å€¼
            previewText.style.fontSize = `${actualFontSize}px`;

            // æ›´æ–°ä¿¡æ¯æ˜¾ç¤º
            let actualDisplay;
            if (clampUnit === 'rem') {
                actualDisplay = `${(actualFontSize / rootFontSize).toFixed(4)}rem (${actualFontSize.toFixed(2)}px)`;
            } else {
                actualDisplay = `${actualFontSize.toFixed(2)}px`;
            }

            document.getElementById('actualFontSize').textContent = actualDisplay;
            document.getElementById('appliedCss').textContent = `font-size: ${clampCss}`;
        }

        // ==================== VW è®¡ç®—å™¨ ====================
        // PX â†’ VW
        function calculateVwToPx() {
            const screenWidth = parseFloat(document.getElementById('vwScreenWidth').value) || 0;
            const targetPx = parseFloat(document.getElementById('vwTargetPx').value) || 0;

            if (screenWidth === 0) {
                document.getElementById('vwResult').textContent = '-';
                document.getElementById('vwFormula').textContent = '-';
                return;
            }

            // å…¬å¼: (targetPx / screenWidth) * 100
            const vw = (targetPx / screenWidth * 100).toFixed(2);

            document.getElementById('vwResult').textContent = `${vw}vw`;
            document.getElementById('vwFormula').textContent = 
                `${targetPx}px Ã· ${screenWidth}px Ã— 100 = ${vw}vw`;
        }

        // VW â†’ PX
        function calculatePxToVw() {
            const vwValue = parseFloat(document.getElementById('pxVwValue').value) || 0;
            const screenWidth = parseFloat(document.getElementById('pxScreenWidth').value) || 0;

            if (screenWidth === 0) {
                document.getElementById('pxResult').textContent = '-';
                document.getElementById('pxFormula').textContent = '-';
                return;
            }

            // å…¬å¼: (vwValue * screenWidth) / 100
            const px = (vwValue * screenWidth / 100).toFixed(2);

            document.getElementById('pxResult').textContent = `${px}px`;
            document.getElementById('pxFormula').textContent = 
                `${vwValue}vw Ã— ${screenWidth}px Ã· 100 = ${px}px`;
        }

        // ==================== Unit Converter ====================
        function convertUnits() {
            const value = parseFloat(document.getElementById('converterValue').value) || 0;
            const unit = document.getElementById('converterUnit').value;

            let pxValue, remValue;

            // è½¬æ¢ä¸º px å’Œ rem (å‡è®¾ 1rem = 16px)
            if (unit === 'rem') {
                remValue = value;
                pxValue = value * 16;
            } else { // px
                pxValue = value;
                remValue = value / 16;
            }

            // æ˜¾ç¤º rem å’Œ px
            document.getElementById('convRem').textContent = `${remValue.toFixed(4)} rem`;
            document.getElementById('convPx').textContent = `${pxValue.toFixed(2)} px`;

            // è®¡ç®—åœ¨ä¸åŒå±å¹•å®½åº¦ä¸‹çš„ VW å€¼
            const screenData = [
                { width: 768, device: 'å¹³æ¿ (Tablet)' },
                { width: 1024, device: 'å°æ¡Œæœº (Small Desktop)' },
                { width: 1366, device: 'ç¬”ç”µ (Laptop)' },
                { width: 1920, device: 'æ¡Œæœº (Desktop)' }
            ];

            const tableBody = document.getElementById('converterTableBody');
            tableBody.innerHTML = '';

            screenData.forEach(data => {
                // å…¬å¼: (pxValue / width) * 100
                const vw = (pxValue / data.width * 100).toFixed(4);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${data.width}px</td>
                    <td>${vw}vw</td>
                    <td>${data.device}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // ==================== å·¥å…·å‡½æ•° ====================
        // åˆ‡æ¢ Tab
        function switchTab(tabName) {
            // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // æ¿€æ´»é€‰ä¸­çš„ tab
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;

            // ä½¿ç”¨ Clipboard API
            navigator.clipboard.writeText(text).then(() => {
                // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'å·²å¤åˆ¶!';
                btn.style.background = '#27ae60';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#667eea';
                }, 1500);
            }).catch(err => {
                alert('å¤åˆ¶å¤±è´¥,è¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        // ==================== åˆå§‹åŒ–è®¡ç®— ====================
        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œæ‰€æœ‰è®¡ç®—
        window.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŒ–æ‰€æœ‰è¾“å…¥æ¡†çš„é»˜è®¤å€¼æ£€æµ‹
            const allInputs = document.querySelectorAll('input[type="number"][data-default]');
            allInputs.forEach(input => {
                checkModified(input);
            });
            
            // æ‰§è¡Œåˆå§‹è®¡ç®—
            calculateClamp();
            calculateVwToPx();
            calculatePxToVw();
            convertUnits();
        });
    </script>
</body>
</html>